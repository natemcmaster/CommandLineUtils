version: 2
updates:
  # NuGet packages - patch updates only for LTS stability
  - package-ecosystem: "nuget"
    directory: "/"
    schedule:
      interval: "monthly"
    ignore:
      # Only allow patch updates (ignore minor and major)
      - dependency-name: "*"
        update-types:
          - "version-update:semver-major"
          - "version-update:semver-minor"
    groups:
      nuget-patch:
        patterns:
          - "*"

  # Sample and test projects - allow all updates (latest versions)
  - package-ecosystem: "nuget"
    directories:
      - "/docs/samples"
      - "/test"
    schedule:
      interval: "monthly"
    groups:
      microsoft-extensions:
        patterns:
          - "Microsoft.Extensions.*"
      test-dependencies:
        patterns:
          - "Microsoft.NET.Test.Sdk"
          - "xunit*"
          - "coverlet*"
          - "Moq"
          - "FluentAssertions"

  # GitHub Actions - monthly updates
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "quarterly"
    groups:
      github-actions:
        patterns:
          - "*"
